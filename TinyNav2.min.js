/*! tinyNav2.js v0.52
 * https://github.com/viljamis/tinyNav2.js
 * http://tinynav2.viljamis.com
 *
 * Copyright (c) 2013 @viljamis
 * Available under the MIT license
 */

(function(a){var j=a.tinyNav||{},d,g,l,e=console,b=a.document,h=b.getElementsByTagName("head")[0],c=b.createElement("style"),k=a.getComputedStyle?!0:!1,f=j.debug||!1;!0===f&&e.log("Inited Tinynav2.js");h.appendChild(c);!0===f&&e.log("Created initial 'styleEl' to <head>");a.resizer=function(){if(k)if("none"!==a.getComputedStyle(g,null).getPropertyValue("display")){g.setAttribute("aria-hidden",!1);d.setAttribute("aria-hidden",!0);c.parentNode||(h.appendChild(c),!0===f&&e.log("Appended 'styleEl' to <head>"));
var b=l.offsetHeight;c.innerHTML="#nav.opened{max-height:"+b+"px }";!0===f&&e.log("Calculated max-height of "+b+" pixels and updated 'styleEl'")}else g.setAttribute("aria-hidden",!0),d.setAttribute("aria-hidden",!1),c.parentNode&&(c.parentNode.removeChild(c),!0===f&&e.log("Removed 'styleEl' from <head>"))};a.navigation=function(){var c=!1;d=b.getElementById(j.nav)||b.getElementById("nav");l=b.getElementById(j.navInner)||b.getElementById("nav-inner");g=b.getElementById(j.navToggle)||b.getElementById("nav-toggle");
var h=function(a){a.preventDefault();c?(d.className=d.className.replace("opened","closed"),k&&d.setAttribute("aria-hidden",!0),c=!1,!0===f&&e.log("Closed navigation")):(d.className=d.className.replace("closed","opened"),k&&d.setAttribute("aria-hidden",!1),c=!0,!0===f&&e.log("Opened navigation"));return!1};a.resizer();g.onmousedown=function(a){!0===f&&e.log("Detected mousedown");h(a)};g.ontouchstart=function(a){!0===f&&e.log("Detected touchstart");g.onmousedown=null;h(a)};g.onclick=function(){return!1}};
a.addEventListener?(a.addEventListener("DOMContentLoaded",function(){a.navigation();a.removeEventListener("load",a.navigation,!1)},!1),a.addEventListener("load",a.navigation,!1),a.addEventListener("resize",a.resizer,!1)):a.attachEvent&&(a.attachEvent("onload",a.navigation),a.attachEvent("resize",a.resizer))})(this);