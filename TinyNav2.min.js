/*! tinyNav2.js v0.6
 * https://github.com/viljamis/tinyNav2.js
 * http://tinynav2.viljamis.com
 *
 * Copyright (c) 2013 @viljamis
 * Available under the MIT license
 */

(function(a){var j=a.tinyNav||{},b,g,m,e=console,c=a.document,h=c.getElementsByTagName("head")[0],d=c.createElement("style"),l=a.getComputedStyle?!0:!1,n=j.label||"Menu",f=j.debug||!1;!0===f&&e.log("Inited Tinynav2.js");h.appendChild(d);!0===f&&e.log("Created initial 'styleEl' to <head>");a.resizer=function(){if(l)if("none"!==a.getComputedStyle(g,null).getPropertyValue("display")){g.setAttribute("aria-hidden",!1);b.setAttribute("aria-hidden",!0);d.parentNode||(h.appendChild(d),!0===f&&e.log("Appended 'styleEl' to <head>"));
var c=m.offsetHeight;d.innerHTML="#nav.opened{max-height:"+c+"px }";!0===f&&e.log("Calculated max-height of "+c+" pixels and updated 'styleEl'")}else g.setAttribute("aria-hidden",!0),b.setAttribute("aria-hidden",!1),d.parentNode&&(d.parentNode.removeChild(d),!0===f&&e.log("Removed 'styleEl' from <head>"))};a.navigation=function(){var d=!1;b=c.getElementById(j.nav)||c.getElementById("nav");m=c.getElementById(j.navInner)||c.getElementById("nav-inner");var k=c.createElement("a");k.setAttribute("href",
"#");k.setAttribute("id","nav-toggle");k.innerHTML=n;b.parentNode.insertBefore(k,b.nextSibling);g=c.getElementById("nav-toggle");!0===f&&e.log("Navigation toggle created");var h=function(a){a.preventDefault();d?(b.className=b.className.replace("opened","closed"),l&&b.setAttribute("aria-hidden",!0),d=!1,!0===f&&e.log("Closed navigation")):(b.className=b.className.replace("closed","opened"),l&&b.setAttribute("aria-hidden",!1),d=!0,!0===f&&e.log("Opened navigation"));return!1};a.resizer();g.onmousedown=
function(a){!0===f&&e.log("Detected mousedown");h(a)};g.ontouchstart=function(a){!0===f&&e.log("Detected touchstart");g.onmousedown=null;h(a)};g.onclick=function(){return!1}};a.addEventListener?(a.addEventListener("DOMContentLoaded",function(){a.navigation();a.removeEventListener("load",a.navigation,!1)},!1),a.addEventListener("load",a.navigation,!1),a.addEventListener("resize",a.resizer,!1)):a.attachEvent&&(a.attachEvent("onload",a.navigation),a.attachEvent("resize",a.resizer))})(this);